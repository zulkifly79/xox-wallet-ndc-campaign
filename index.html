<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>XOX Wallet NDC Cashback Campaign</title>
    <style>
        :root {
            --primary-color: #0066cc;
            --secondary-color: #004999;
            --highlight-color: #ffffcc;
            --text-color: #333;
            --light-bg: #f5f5f5;
        }
        
        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            color: var(--text-color);
            margin: 0;
            padding: 0;
            background-color: var(--light-bg);
        }
        
        header {
            background-color: var(--primary-color);
            color: white;
            text-align: center;
            padding: 2rem 1rem;
        }
        
        .container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .card {
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            padding: 25px;
            margin-bottom: 25px;
        }
        
        h1, h2, h3 {
            color: var(--primary-color);
        }
        
        .highlight {
            background-color: var(--highlight-color);
            padding: 15px;
            border-radius: 5px;
            border-left: 4px solid var(--primary-color);
        }
        
        .cta-button {
            display: inline-block;
            background-color: var(--primary-color);
            color: white;
            padding: 12px 25px;
            text-decoration: none;
            border-radius: 5px;
            font-weight: bold;
            margin: 15px 0;
            transition: background-color 0.3s;
        }
        
        .cta-button:hover {
            background-color: var(--secondary-color);
        }
        
        .tier-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }
        
        .tier-table th, .tier-table td {
            border: 1px solid #ddd;
            padding: 12px;
            text-align: left;
        }
        
        .tier-table th {
            background-color: var(--primary-color);
            color: white;
        }
        
        .tier-table tr:nth-child(even) {
            background-color: #f2f2f2;
        }
        
        .faq-item {
            margin-bottom: 15px;
        }
        
        .faq-question {
            font-weight: bold;
            cursor: pointer;
            padding: 10px;
            background-color: #e9e9e9;
            border-radius: 5px;
        }
        
        .faq-answer {
            padding: 15px;
            display: none;
        }
        
        footer {
            background-color: var(--primary-color);
            color: white;
            text-align: center;
            padding: 20px;
            margin-top: 30px;
        }
        
        /* Chat bot styles */
        #chatbot-container {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 350px;
            height: 450px;
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0,0,0,0.2);
            display: flex;
            flex-direction: column;
            overflow: hidden;
            z-index: 1000;
            display: none;
        }
        
        #chatbot-header {
            background-color: var(--primary-color);
            color: white;
            padding: 10px 15px;
            font-weight: bold;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        #chatbot-close {
            cursor: pointer;
            background: none;
            border: none;
            color: white;
            font-size: 18px;
        }
        
        #chatbot-messages {
            flex-grow: 1;
            padding: 15px;
            overflow-y: auto;
        }
        
        .bot-message, .user-message {
            max-width: 80%;
            margin: 8px 0;
            padding: 10px;
            border-radius: 10px;
        }
        
        .bot-message {
            background-color: #f1f1f1;
            align-self: flex-start;
            margin-right: auto;
        }
        
        .user-message {
            background-color: var(--primary-color);
            color: white;
            align-self: flex-end;
            margin-left: auto;
        }
        
        #chatbot-input-container {
            display: flex;
            padding: 10px;
            border-top: 1px solid #ddd;
        }
        
        #chatbot-input {
            flex-grow: 1;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 20px;
            margin-right: 10px;
        }
        
        #chatbot-send {
            background-color: var(--primary-color);
            color: white;
            border: none;
            border-radius: 20px;
            padding: 10px 15px;
            cursor: pointer;
        }
        
        #chat-icon {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background-color: var(--primary-color);
            color: white;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
            z-index: 999;
        }
        
        #chat-icon img {
            width: 30px;
            height: 30px;
        }
        
        @media (max-width: 768px) {
            #chatbot-container {
                width: 90%;
                bottom: 70px;
                right: 5%;
                height: 400px;
            }
        }
    </style>
</head>
<body>
    <header>
        <h1>XOX Wallet NDC Cashback Campaign</h1>
        <p>Earn up to 5% cashback on your everyday transactions!</p>
    </header>
    
    <div class="container">
        <div class="card">
            <h2>Campaign Overview</h2>
            <p>Dear Valued XOX Wallet User,</p>
            <p>We're thrilled to introduce our exciting NDC Cashback Campaign! This exclusive offer is designed to reward you for using your XOX Wallet for everyday transactions.</p>
            
            <div class="highlight">
                <h3>Campaign Period</h3>
                <p><strong>Start Date:</strong> April 1, 2025</p>
                <p><strong>End Date:</strong> September 30, 2025</p>
            </div>
        </div>
        
        <div class="card">
            <h2>How It Works</h2>
            <ol>
                <li>Spend a minimum of RM30 in a single transaction each month.</li>
                <li>Earn increasing cashback rewards for consecutive months of participation.</li>
                <li>Reach the highest tier to enjoy 5% cashback on eligible transactions!</li>
            </ol>
            
            <div class="highlight">
                <h3>Important Notes</h3>
                <ul>
                    <li>Your tier is determined by consecutive months of qualifying transactions.</li>
                    <li>Missing a month will reset your tier to the starting level.</li>
                    <li>Cashback is automatically credited to your XOX Wallet by the 15th of the following month.</li>
                </ul>
            </div>
        </div>
        
        <div class="card">
            <h2>Cashback Tiers</h2>
            <p>The more consistently you use your XOX Wallet, the higher your rewards!</p>
            
            <table class="tier-table">
                <thead>
                    <tr>
                        <th>Participation</th>
                        <th>Cashback Percentage</th>
                        <th>Maximum Transaction Value</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>1st Month</td>
                        <td>1.7%</td>
                        <td>Up to RM50</td>
                    </tr>
                    <tr>
                        <td>2nd Consecutive Month</td>
                        <td>3.3%</td>
                        <td>Up to RM50</td>
                    </tr>
                    <tr>
                        <td>3rd Consecutive Month and beyond</td>
                        <td>5%</td>
                        <td>Up to RM50</td>
                    </tr>
                </tbody>
            </table>
            
            <div class="highlight">
                <p><strong>Example:</strong> If you spend RM50 in your third consecutive month, you'll earn RM2.50 cashback (5% of RM50).</p>
            </div>
        </div>
        
        <div class="card">
            <h2>Eligibility</h2>
            <ul>
                <li>All active XOX Wallet users are eligible to participate.</li>
                <li>Minimum transaction amount: RM30 per month.</li>
                <li>Only retail transactions qualify for cashback.</li>
                <li>Transactions must be made directly with your XOX Wallet.</li>
            </ul>
        </div>
        
        <div class="card">
            <h2>Frequently Asked Questions</h2>
            
            <div class="faq-item">
                <div class="faq-question">How do I check my current tier status?</div>
                <div class="faq-answer">
                    <p>You can check your current tier status by using our chatbot assistant on this page. Simply click on the chat icon in the bottom right corner and ask about your tier status.</p>
                </div>
            </div>
            
            <div class="faq-item">
                <div class="faq-question">When will I receive my cashback?</div>
                <div class="faq-answer">
                    <p>Cashback rewards are automatically credited to your XOX Wallet by the 15th of the following month.</p>
                </div>
            </div>
            
            <div class="faq-item">
                <div class="faq-question">What happens if I miss a month?</div>
                <div class="faq-answer">
                    <p>If you don't make a qualifying transaction in a particular month, your tier will reset to the starting level (1.7%) in the next month you make a qualifying transaction.</p>
                </div>
            </div>
            
            <div class="faq-item">
                <div class="faq-question">Are there any transaction types that don't qualify?</div>
                <div class="faq-answer">
                    <p>Yes. The following transactions are not eligible for cashback:</p>
                    <ul>
                        <li>Wallet top-ups</li>
                        <li>Transfers to other users</li>
                        <li>Bill payments</li>
                        <li>Government services</li>
                    </ul>
                </div>
            </div>
            
            <div class="faq-item">
                <div class="faq-question">Is there a limit to how much cashback I can earn?</div>
                <div class="faq-answer">
                    <p>Yes, the maximum transaction value eligible for cashback is RM50 per month. This means the maximum cashback you can earn per month at the top tier (5%) is RM2.50.</p>
                </div>
            </div>
        </div>
        
        <a href="#" class="cta-button">Sign in to XOX Wallet</a>
    </div>
    
    <!-- Chat Icon -->
    <div id="chat-icon">
        <img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSJjdXJyZW50Q29sb3IiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBjbGFzcz0iZmVhdGhlciBmZWF0aGVyLW1lc3NhZ2UtY2lyY2xlIj48cGF0aCBkPSJNMjEgMTEuNWE4LjM4IDguMzggMCAwIDEtLjkgMy44IDguNSA4LjUgMCAwIDEtNy42IDQuNyA4LjM4IDguMzggMCAwIDEtMy44LS45TDMgMjFsMS45LTUuN2E4LjM4IDguMzggMCAwIDEtLjktMy44IDguNSA4LjUgMCAwIDEgNC43LTcuNiA4LjM4IDguMzggMCAwIDEgMy44LS45aC41YTguNDggOC40OCAwIDAgMSA4IDh2LjV6Ij48L3BhdGg+PC9zdmc+" alt="Chat">
    </div>
    
    <!-- Chatbot Container -->
    <div id="chatbot-container">
        <div id="chatbot-header">
            <span>NDC Campaign Assistant</span>
            <button id="chatbot-close">✕</button>
        </div>
        <div id="chatbot-messages">
            <!-- Messages will be appended here by JavaScript -->
        </div>
        <div id="chatbot-input-container">
            <input type="text" id="chatbot-input" placeholder="Type your question here...">
            <button id="chatbot-send">Send</button>
        </div>
    </div>
    
    <footer>
        <p>© 2025 XOX Wallet. All Rights Reserved.</p>
        <p>For support, contact us at support@xoxwallet.com</p>
    </footer>

    <script src="js/chatbot.js"></script>
    <script>
        // Toggle FAQ answers
        document.querySelectorAll('.faq-question').forEach(question => {
            question.addEventListener('click', () => {
                const answer = question.nextElementSibling;
                const isHidden = window.getComputedStyle(answer).display === 'none';
                
                answer.style.display = isHidden ? 'block' : 'none';
            });
        });
        
        // Chatbot functionality
        const chatIcon = document.getElementById('chat-icon');
        const chatbotContainer = document.getElementById('chatbot-container');
        const chatbotClose = document.getElementById('chatbot-close');
        const chatbotMessages = document.getElementById('chatbot-messages');
        const chatbotInput = document.getElementById('chatbot-input');
        const chatbotSend = document.getElementById('chatbot-send');
        
        // Sample customer data (in production, this would be fetched from your CSV)
        const customerData = {
            '12345': {
                name: 'Ahmed',
                walletId: '12345',
                consecutiveMonths: 2,
                currentTier: '3.3%',
                nextTier: '5%',
                currentMonthSpend: 45.50,
                totalCashbackEarned: 2.56,
                lastTransaction: '2025-04-15'
            },
            '67890': {
                name: 'Sarah',
                walletId: '67890',
                consecutiveMonths: 3,
                currentTier: '5%',
                nextTier: 'Maximum tier reached',
                currentMonthSpend: 50.00,
                totalCashbackEarned: 5.83,
                lastTransaction: '2025-04-18'
            }
        };
        
        // Toggle chatbot visibility
        chatIcon.addEventListener('click', () => {
            chatbotContainer.style.display = 'flex';
            chatIcon.style.display = 'none';
            
            // Add welcome message if it's empty
            if (chatbotMessages.children.length === 0) {
                addBotMessage("👋 Hi there! I'm your NDC Campaign Assistant. I can help you check your cashback status, explain campaign rules, and more. What would you like to know?");
                addBotMessage("To check your status, please provide your XOX Wallet ID.");
            }
        });
        
        chatbotClose.addEventListener('click', () => {
            chatbotContainer.style.display = 'none';
            chatIcon.style.display = 'flex';
        });
        
        // Send message function
        chatbotSend.addEventListener('click', sendMessage);
        chatbotInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                sendMessage();
            }
        });
        
        function sendMessage() {
            const message = chatbotInput.value.trim();
            if (message === '') return;
            
            // Add user message
            addUserMessage(message);
            chatbotInput.value = '';
            
            // Process message and respond
            processMessage(message);
        }
        
        function addUserMessage(message) {
            const messageElement = document.createElement('div');
            messageElement.className = 'user-message';
            messageElement.textContent = message;
            chatbotMessages.appendChild(messageElement);
            chatbotMessages.scrollTop = chatbotMessages.scrollHeight;
        }
        
        function addBotMessage(message) {
            const messageElement = document.createElement('div');
            messageElement.className = 'bot-message';
            messageElement.textContent = message;
            chatbotMessages.appendChild(messageElement);
            chatbotMessages.scrollTop = chatbotMessages.scrollHeight;
        }
        
        function processMessage(message) {
            // Check if message contains a wallet ID
            if (/^\d{5}$/.test(message)) {
                const walletId = message;
                const customer = customerData[walletId];
                
                if (customer) {
                    addBotMessage(`Hello ${customer.name}! Here's your NDC Campaign status:`);
                    addBotMessage(`Current Tier: ${customer.currentTier} cashback
Consecutive Months: ${customer.consecutiveMonths}
Current Month Spend: RM${customer.currentMonthSpend.toFixed(2)}
Total Cashback Earned: RM${customer.totalCashbackEarned.toFixed(2)}
Last Transaction: ${customer.lastTransaction}`);
                    
                    if (customer.nextTier !== 'Maximum tier reached') {
                        addBotMessage(`Continue using your XOX Wallet this month to maintain your streak and reach ${customer.nextTier} cashback!`);
                    } else {
                        addBotMessage(`Congratulations! You've reached the maximum tier. Keep using your XOX Wallet to maintain your 5% cashback!`);
                    }
                    
                    addBotMessage("Is there anything else you'd like to know about the campaign?");
                } else {
                    addBotMessage("I couldn't find that Wallet ID in our system. Please check the number and try again, or contact support if you need assistance.");
                }
            } 
            // Check for keywords in the message
            else if (message.toLowerCase().includes('tier')) {
                addBotMessage("The NDC Campaign has 3 cashback tiers based on consecutive months of usage:\n\n1st Month: 1.7% cashback\n2nd Consecutive Month: 3.3% cashback\n3rd Consecutive Month and beyond: 5% cashback\n\nTo check your current tier, please provide your XOX Wallet ID.");
            }
            else if (message.toLowerCase().includes('cashback') || message.toLowerCase().includes('earn')) {
                addBotMessage("You can earn cashback based on your tier:\n\n- 1st Month: 1.7% cashback\n- 2nd Month: 3.3% cashback\n- 3rd Month+: 5% cashback\n\nThe maximum transaction value eligible for cashback is RM50 per month.");
            }
            else if (message.toLowerCase().includes('minimum') || message.toLowerCase().includes('spend')) {
                addBotMessage("You need to spend a minimum of RM30 in a single transaction each month to qualify for the NDC Campaign cashback.");
            }
            else if (message.toLowerCase().includes('reset') || message.toLowerCase().includes('miss')) {
                addBotMessage("If you miss a month (don't make a qualifying transaction of RM30+), your tier will reset back to the starting level (1.7%) the next time you make a qualifying transaction.");
            }
            else if (message.toLowerCase().includes('hello') || message.toLowerCase().includes('hi') || message.toLowerCase().includes('hey')) {
                addBotMessage("Hello! I'm your NDC Campaign Assistant. How can I help you today? To check your cashback status, please provide your XOX Wallet ID.");
            }
            else if (message.toLowerCase().includes('thank')) {
                addBotMessage("You're welcome! If you have any other questions about the NDC Campaign, feel free to ask anytime.");
            }
            else if (message.toLowerCase().includes('help') || message.toLowerCase().includes('support')) {
                addBotMessage("I can help with NDC Campaign related questions. If you need assistance with other matters, please contact our support team at support@xoxwallet.com");
            }
            else {
                addBotMessage("I'm not sure I understand your question. I can help with information about the NDC Campaign, check your cashback status, or explain how the tiers work. To check your status, please provide your XOX Wallet ID.");
            }
        }
    </script>
</body>
</html>